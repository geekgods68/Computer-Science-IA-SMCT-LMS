{% extends "student/student_base.html" %}

{% block title %}My Classes - Student Portal{% endblock %}

{% block content %}
<div class="main-content">
    <div class="page-title">
        <i class="bi bi-journal-text"></i>
        <span>My Classes</span>
    </div>
    <p class="page-subtitle">View your enrolled classes, subjects, and schedules.</p>
    
    {% if student_classes %}
        <div class="row">
            {% for class in student_classes %}
            <div class="col-md-6 col-lg-4 mb-4">
                <div class="class-card">
                    <div class="class-header">
                        <i class="bi bi-journal-bookmark"></i>
                        <h5 class="class-title">{{ class.name }}</h5>
                        {% if class.grade_level %}
                        <span class="class-badge">Grade: {{ class.grade_level }}</span>
                        {% endif %}
                    </div>
                    
                    {% if class.subject %}
                    <div class="mb-2">
                        <span class="class-badge">{{ class.subject }}</span>
                    </div>
                    {% endif %}
                    
                    {% if class.description %}
                    <p class="class-description">{{ class.description }}</p>
                    {% endif %}
                    
                    <div class="class-details">
                        <div class="class-detail-item">
                            <i class="bi bi-person me-1"></i>
                            <span>Teacher: {{ class.teacher_name or 'TBA' }}</span>
                        </div>
                        <div class="class-detail-item">
                            <i class="bi bi-calendar3 me-1"></i>
                            <span>{{ class.schedule_days or 'Schedule TBA' }}</span>
                        </div>
                        {% if class.schedule_time_start and class.schedule_time_end %}
                        <div class="class-detail-item">
                            <i class="bi bi-clock me-1"></i>
                            <span>{{ class.schedule_time_start }} - {{ class.schedule_time_end }}</span>
                        </div>
                        {% endif %}
                        <div class="class-detail-item">
                            <i class="bi bi-list-task me-1"></i>
                            <span>{{ class.assignment_count }} assignments ({{ class.pending_assignments }} pending)</span>
                        </div>
                    </div>
                    
                    <div class="d-flex justify-content-between align-items-center mt-3">
                        <button class="btn btn-light btn-sm">
                            <i class="bi bi-info-circle me-1"></i>Details
                        </button>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <div class="empty-state-icon">
                <i class="bi bi-journal-bookmark text-primary"></i>
            </div>
            <h5 class="empty-state-title">No Classes Enrolled</h5>
            <p class="empty-state-text">
                You are not currently enrolled in any classes. Please contact the administrator to get enrolled in classes.
            </p>
            <a href="{{ url_for('student.dashboard') }}" class="btn btn-primary">
                <i class="bi bi-house-door me-1"></i>Back to Dashboard
            </a>
        </div>
    {% endif %}
</div>
{% endblock %}
